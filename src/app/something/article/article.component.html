<app-header [title]="article.title" [is_article]="true"></app-header>
<div fxFlex="column">
  <mat-card class="container">
    <div #editor></div>
    <div *appProgress="article"></div>
    <hr>
    <mat-chip-list>
      <mat-chip *ngFor="let c of article.category">{{c}}</mat-chip>
      <mat-chip color="primary" selected="true">{{article.time}}</mat-chip>
      <mat-chip color="accent" selected="true">{{article.author}}</mat-chip>
    </mat-chip-list>
  </mat-card>

  <mat-card class="container" *ngFor="let c of comments">
    <mat-card-header>
      <mat-card-title><h2>{{c.author}}</h2></mat-card-title>
      <mat-card-subtitle>{{c.time}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>{{c.content}}</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-icon-button color="primary" (click)="likeComment(c)">
        <mat-icon aria-label="Example icon-button with a heart icon">favorite</mat-icon>
        {{c.likes}}
      </button>
    </mat-card-actions>
  </mat-card>

  <mat-card class="container">
    <mat-card-header>
      <mat-card-title><h2>Leave a comment</h2></mat-card-title>
    </mat-card-header>
    <form #form="ngForm" (submit)="onSubmit()">
      <mat-card-header>
        <mat-card-title><h2></h2></mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field style="width: 100%;">
          <textarea matInput placeholder="say something" [(ngModel)]="newComment.content" name="content"
                    autocomplete="off" required style="height: 100px;"></textarea>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="author" [(ngModel)]="newComment.author" name="author" autocomplete="off">
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <div fxFlex="row" fxLayoutAlign="end center">
          <button mat-button type="submit" color="primary" [disabled]="!form.valid">提交</button>
        </div>
      </mat-card-actions>
    </form>
  </mat-card>
</div>
<app-footer></app-footer>
